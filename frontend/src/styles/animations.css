/**
 * animations.css - çµ±ä¸€å‹•ç•«ç³»çµ±
 * ç¾ä»£åŒ–ã€æµæš¢çš„å‹•ç•«æ•ˆæœ
 */

/* ========== å‹•ç•«è®Šæ•¸ ========== */
:root {
    /* ğŸ¯ æ™‚é–“è®Šæ•¸ */
    --anim-duration-fast: 150ms;
    --anim-duration-normal: 250ms;
    --anim-duration-slow: 400ms;
    --anim-duration-slower: 600ms;

    /* ğŸ¯ Easing æ›²ç·š */
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
    --ease-in-out-quart: cubic-bezier(0.76, 0, 0.24, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========== é é¢éæ¸¡å‹•ç•« ========== */
@keyframes pageEnter {
    from {
        opacity: 0;
        transform: translateY(12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pageExit {
    from {
        opacity: 1;
        transform: translateY(0);
    }

    to {
        opacity: 0;
        transform: translateY(-8px);
    }
}

.page-enter {
    animation: pageEnter var(--anim-duration-slow) var(--ease-out-expo);
}

.main-content>div {
    animation: pageEnter var(--anim-duration-slow) var(--ease-out-expo);
}

/* ========== å¡ç‰‡äº’å‹•å‹•ç•« ========== */
@keyframes cardHover {
    0% {
        transform: translateY(0) scale(1);
        box-shadow: var(--theme-shadow-primary);
    }

    100% {
        transform: translateY(-4px) scale(1.01);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
    }
}

@keyframes cardPress {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(0.98);
    }

    100% {
        transform: scale(1);
    }
}

.card-animate,
.status-card,
.announcement-item,
.course-preview {
    transition: transform var(--anim-duration-normal) var(--ease-out-expo),
        box-shadow var(--anim-duration-normal) var(--ease-out-expo) !important;
}

.card-animate:hover,
.status-card:hover,
.announcement-item:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
}

.card-animate:active,
.status-card:active {
    transform: scale(0.98);
    transition-duration: var(--anim-duration-fast);
}

/* ========== æ¼£æ¼ªæ•ˆæœ ========== */
@keyframes ripple {
    from {
        transform: scale(0);
        opacity: 0.6;
    }

    to {
        transform: scale(2.5);
        opacity: 0;
    }
}

.ripple-effect {
    position: relative;
    overflow: hidden;
}

.ripple-effect::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    transform: translate(-50%, -50%) scale(0);
    border-radius: 50%;
    pointer-events: none;
}

.ripple-effect:active::after {
    animation: ripple var(--anim-duration-slow) var(--ease-out-expo);
}

/* ========== å½ˆå‡ºè¦–çª—å‹•ç•« ========== */
@keyframes popupEnter {
    from {
        opacity: 0;
        transform: scale(0.9) translateY(8px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes popupExit {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }

    to {
        opacity: 0;
        transform: scale(0.95) translateY(4px);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(100%);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideDown {
    from {
        opacity: 1;
        transform: translateY(0);
    }

    to {
        opacity: 0;
        transform: translateY(100%);
    }
}

.popup-animate-enter {
    animation: popupEnter var(--anim-duration-normal) var(--ease-spring);
}

.popup-animate-exit {
    animation: popupExit var(--anim-duration-fast) var(--ease-smooth);
}

/* å½ˆå‡ºå¡ç‰‡æ‡‰ç”¨ */
.status-card-popup-glass {
    animation: popupEnter var(--anim-duration-normal) var(--ease-spring) !important;
}

.more-menu {
    animation: slideUp var(--anim-duration-slow) var(--ease-out-expo) !important;
}

/* ========== è¼‰å…¥å‹•ç•« ========== */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.7;
        transform: scale(0.98);
    }
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-25%);
    }
}

/* éª¨æ¶å±å‹•ç•« */
.skeleton {
    background: linear-gradient(90deg,
            var(--theme-bg-tertiary) 0%,
            var(--theme-bg-secondary) 50%,
            var(--theme-bg-tertiary) 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: 8px;
}

/* ç¾ä»£ Spinner */
.spinner-modern {
    width: 24px;
    height: 24px;
    border: 3px solid var(--theme-border-secondary);
    border-top-color: var(--primary-color);
    border-radius: 50%;
    animation: spin 0.8s var(--ease-smooth) infinite;
}

/* Loading dots */
.loading-dots-animate span {
    animation: bounce 1.4s var(--ease-out-quart) infinite;
}

.loading-dots-animate span:nth-child(1) {
    animation-delay: 0s;
}

.loading-dots-animate span:nth-child(2) {
    animation-delay: 0.15s;
}

.loading-dots-animate span:nth-child(3) {
    animation-delay: 0.3s;
}

/* ========== å°èˆªå‹•ç•« ========== */
@keyframes navItemEnter {
    from {
        opacity: 0;
        transform: translateX(-8px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* å´é‚Šå°èˆªé …ç›® */
.side-nav-item {
    transition: all var(--anim-duration-normal) var(--ease-out-expo) !important;
}

.side-nav-item:hover {
    transform: translateX(4px);
}

.side-nav-item.active {
    animation: navItemEnter var(--anim-duration-normal) var(--ease-out-expo);
}

/* åº•éƒ¨ Tab */
.bottom-nav-tab {
    transition: all var(--anim-duration-fast) var(--ease-out-expo) !important;
}

.bottom-nav-tab:active {
    transform: scale(0.95);
}

.bottom-nav-tab.active .tab-icon {
    animation: bounce var(--anim-duration-slow) var(--ease-spring);
}

/* å°èˆªæ”¶åˆå‹•ç•« */
.side-nav {
    transition: width var(--anim-duration-slow) var(--ease-out-expo) !important;
}

.side-nav .brand-text,
.side-nav .nav-label {
    transition: opacity var(--anim-duration-fast) var(--ease-smooth),
        width var(--anim-duration-normal) var(--ease-smooth) !important;
}

/* ========== å¾®äº’å‹• ========== */
@keyframes iconPop {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.2);
    }

    100% {
        transform: scale(1);
    }
}

@keyframes shake {

    0%,
    100% {
        transform: translateX(0);
    }

    25% {
        transform: translateX(-4px);
    }

    75% {
        transform: translateX(4px);
    }
}

@keyframes wiggle {

    0%,
    100% {
        transform: rotate(0deg);
    }

    25% {
        transform: rotate(-3deg);
    }

    75% {
        transform: rotate(3deg);
    }
}

.icon-pop:hover {
    animation: iconPop var(--anim-duration-normal) var(--ease-spring);
}

/* åœ–æ¨™å®¹å™¨å‹•ç•« */
.status-icon-container {
    transition: transform var(--anim-duration-normal) var(--ease-spring) !important;
}

.status-card:hover .status-icon-container {
    transform: scale(1.1);
}

/* ========== æ»¾å‹•é€²å…¥å‹•ç•« ========== */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.animate-on-scroll {
    opacity: 0;
    animation: fadeInUp var(--anim-duration-slow) var(--ease-out-expo) forwards;
}

/* å»¶é²å‹•ç•«åºåˆ— */
.stagger-1 {
    animation-delay: 0.1s;
}

.stagger-2 {
    animation-delay: 0.2s;
}

.stagger-3 {
    animation-delay: 0.3s;
}

.stagger-4 {
    animation-delay: 0.4s;
}

.stagger-5 {
    animation-delay: 0.5s;
}

/* ========== æŒ‰éˆ•å‹•ç•« ========== */
button,
.apple-button,
.preview-action-btn {
    transition: all var(--anim-duration-fast) var(--ease-out-expo) !important;
}

button:hover,
.apple-button:hover,
.preview-action-btn:hover {
    transform: translateY(-2px);
}

button:active,
.apple-button:active,
.preview-action-btn:active {
    transform: translateY(0) scale(0.98);
}

/* ========== è¼¸å…¥æ¡†èšç„¦å‹•ç•« ========== */
input,
select,
textarea {
    transition: border-color var(--anim-duration-fast) var(--ease-smooth),
        box-shadow var(--anim-duration-fast) var(--ease-smooth) !important;
}

input:focus,
select:focus,
textarea:focus {
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
}

/* ========== ç„¡éšœç¤™ï¼šæ¸›å°‘å‹•æ…‹ ========== */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}